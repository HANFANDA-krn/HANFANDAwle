/* =========================================================
   HANFANDA â€” Elegan-Soft + Peta Globe
   ========================================================= */
:root{
  --bg-0:#0a0b0c; --bg-1:#0e1013; --surface:#101215; --surface-2:#12151a;
  --text:#e8e9eb; --muted:#a8adb4; --line:rgba(255,255,255,.06);
  --accent-1:#b7b9c3; --accent-2:#cfd2da;
  --glass:rgba(255,255,255,.04); --glass-2:rgba(255,255,255,.06);
  --shadow:0 15px 40px rgba(0,0,0,.45);
  --radius-xl:22px; --radius-md:14px;
  --ease: cubic-bezier(.22,.61,.36,1);
  --ring-alpha:.06;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; color:var(--text);
  background:
    radial-gradient(1200px 800px at 10% -10%, #13151a 0%, transparent 60%),
    radial-gradient(1000px 700px at 110% 0%, #101217 0%, transparent 55%),
    linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  line-height:1.55; letter-spacing:.1px; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Background abstrak */
.bg{ position:fixed; inset:0; overflow:hidden; pointer-events:none; z-index:-1; }
.bg-layer{ position:absolute; inset:auto; }
.blob{ width:70vmax; height:70vmax; border-radius:50%; filter:blur(60px) saturate(110%);
  background: radial-gradient(circle at 40% 40%, rgba(255,255,255,.05), rgba(255,255,255,0) 60%),
             radial-gradient(circle at 60% 60%, rgba(255,255,255,.03), rgba(255,255,255,0) 70%), #0b0c0e;
  mix-blend-mode:screen; opacity:.5; animation: float 28s var(--ease) infinite alternate; }
.blob-a{ left:-10vmax; top:-15vmax; } .blob-b{ right:-15vmax; bottom:-15vmax; animation-duration:34s; }
.ring{ aspect-ratio:1/1; width:120vmax; border-radius:50%; left:50%; top:50%; transform:translate(-50%,-50%);
  background: conic-gradient(from 0turn,
    rgba(255,255,255,var(--ring-alpha)) 0deg, transparent 70deg,
    rgba(255,255,255,calc(var(--ring-alpha)*.6)) 140deg, transparent 210deg,
    rgba(255,255,255,calc(var(--ring-alpha)*.35)) 300deg, transparent 360deg);
  mask: radial-gradient(circle at center, transparent 48%, black 50%, black 53%, transparent 55%);
  animation: spin 100s linear infinite; }
.ring-b{ animation-duration:160s; transform:translate(-50%,-50%) rotate(22deg); opacity:.6; }
.stripes{ inset:-20% -10% -10% -10%; background: repeating-linear-gradient(110deg, rgba(255,255,255,.02) 0 2px, rgba(255,255,255,0) 2px 24px);
  mix-blend-mode:overlay; opacity:.35; animation: slide 26s linear infinite; }
.grain{ inset:-100px; background:transparent; pointer-events:none; opacity:.12; filter:contrast(180%) brightness(120%); }
.grain::before{ content:""; position:absolute; inset:0; background-image:
  radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,.15) 50%, transparent 51%),
  radial-gradient(1px 1px at 40% 70%, rgba(255,255,255,.15) 50%, transparent 51%),
  radial-gradient(1px 1px at 60% 10%, rgba(255,255,255,.15) 50%, transparent 51%),
  radial-gradient(1px 1px at 80% 60%, rgba(255,255,255,.15) 50%, transparent 51%),
  radial-gradient(1px 1px at 15% 85%, rgba(255,255,255,.15) 50%, transparent 51%);
  background-size:300px 300px; animation: dust 18s steps(60) infinite; }

/* Header */
.site-header{ position:sticky; top:0; z-index:20; backdrop-filter:saturate(110%) blur(14px); border-bottom:1px solid var(--line); }
.glass{ background:linear-gradient(180deg, var(--glass-2), rgba(255,255,255,0)); box-shadow: var(--shadow); }
.header-inner{ max-width:1100px; margin:auto; padding:26px 20px 16px; display:grid; gap:12px; }
.brand-top{ font:700 12px/1 Space Mono, monospace; letter-spacing:.26em; color:var(--muted); text-transform:uppercase; display:block; }
.brand-main{ display:block; font-family:"Playfair Display", serif; font-weight:800; font-size:clamp(28px, 5vw, 48px); line-height:1.1;
  background:linear-gradient(180deg, var(--accent-2), var(--accent-1)); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 1px 0 rgba(255,255,255,.07); }
.tagline{ margin:0; color:var(--muted); max-width:70ch; }

/* Controls */
.controls{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; max-width:1100px; margin:auto; padding:0 20px 10px; }
.control{ display:flex; align-items:center; gap:8px; }
.control.sort span{ font:700 12px/1 Space Mono, monospace; color:var(--muted); letter-spacing:.08em; text-transform:uppercase; }
.control.search{ position:relative; flex:1 1 360px; min-width:240px; }
.control.search input{ width:100%; padding:14px 44px 14px 14px; border-radius:var(--radius-md); border:1px solid var(--line);
  background:rgba(255,255,255,.03); color:var(--text); outline:none; transition:border-color .2s var(--ease), background .2s var(--ease); }
.control.search input:focus{ border-color:rgba(255,255,255,.18); background:rgba(255,255,255,.05); }
.kbd{ position:absolute; right:8px; top:50%; transform:translateY(-50%); font:700 12px/1 Space Mono, monospace; padding:6px 8px; border-radius:8px;
  background:rgba(255,255,255,.06); color:var(--text); border:1px solid var(--line); opacity:.7; }

select{ appearance:none; padding:12px 14px; border-radius:var(--radius-md); border:1px solid var(--line); background:rgba(255,255,255,.03);
  color:var(--text); min-width:200px;
  background-image: linear-gradient(45deg, transparent 50%, rgba(255,255,255,.5) 50%),
                    linear-gradient(135deg, rgba(255,255,255,.5) 50%, transparent 50%),
                    linear-gradient(to right, rgba(255,255,255,.1), rgba(255,255,255,0));
  background-position: calc(100% - 24px) 16px, calc(100% - 16px) 16px, 100% 0;
  background-size: 8px 8px, 8px 8px, 2.5em 100%; background-repeat:no-repeat; }
.btn{ padding:12px 16px; border-radius:var(--radius-md);
  background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  border:1px solid var(--line); color:var(--text); cursor:pointer; transition: transform .15s var(--ease), background .2s var(--ease); }
.btn:hover{ transform: translateY(-1px); background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.07)); }
.btn.ghost{ background:transparent; }
.btn[disabled]{ opacity:.5; cursor:not-allowed; }

/* Peta globe */
.map-section{ position:relative; margin:16px 0 24px; }
#map{ height:320px; border-radius:var(--radius-xl); border:1px solid var(--line); overflow:hidden; box-shadow:var(--shadow); }
.map-toolbar{ position:absolute; left:10px; top:10px; right:10px; display:flex; justify-content:space-between; gap:10px; padding:8px 10px;
  border:1px solid var(--line); border-radius:14px; z-index:500; }
.map-toolbar .inl{ display:inline-flex; gap:6px; align-items:center; }
.map-right{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.country-select{ display:flex; align-items:center; gap:8px; }
.flag-swatch{ width:48px; height:16px; border-radius:6px; border:1px solid var(--line); display:inline-block; background:linear-gradient(90deg,#fff,#eee); }

.map-note{ margin:.6rem 2px 0; }
.leaflet-container{ background:#0f1115; }
.leaflet-control-attribution{ background:rgba(0,0,0,.35) !important; color:#cfd2da !important; }

/* Grid kartu */
.container{ max-width:1100px; margin: 16px auto 80px; padding:0 20px; }
.grid{ display:grid; gap:16px; grid-template-columns: repeat( auto-fill, minmax(260px, 1fr) ); }
.card{ position:relative; overflow:hidden; border-radius:var(--radius-xl); background:linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.02));
  border:1px solid var(--line); box-shadow: var(--shadow); transition: transform .2s var(--ease), border-color .2s var(--ease); cursor:pointer; isolation:isolate; }
.card:hover{ transform: translateY(-3px); border-color: rgba(255,255,255,.14); }
.card-inner{ position:relative; z-index:1; padding:18px; display:grid; gap:14px; }
.card-top{ display:flex; align-items:center; gap:14px; }
.avatar{ width:56px; height:56px; border-radius:14px; display:grid; place-items:center; font-size:30px;
  background: radial-gradient(circle at 35% 35%, rgba(255,255,255,.16), rgba(255,255,255,.02) 70%),
             linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04)); border:1px solid var(--line); }
.title .name{ font:800 20px/1.15 "Playfair Display", serif; letter-spacing:.2px; }
.title .latin{ font:700 12px/1 Space Mono, monospace; color:var(--muted); }
.meta{ display:flex; gap:10px; flex-wrap:wrap; }
.chip{ font:700 11px/1 Space Mono, monospace; letter-spacing:.06em; text-transform:uppercase; padding:8px 10px; border-radius:999px; color:var(--text);
  background:rgba(255,255,255,.04); border:1px solid var(--line); }
.desc{ color:var(--muted); }

.stats{ display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; }
.kv{ background:rgba(255,255,255,.03); border:1px solid var(--line); border-radius:12px; padding:10px; display:grid; gap:6px; }
.kv .k{ font:700 10px/1 Space Mono, monospace; color:var(--muted); letter-spacing:.08em; text-transform:uppercase; }
.kv .v{ font-weight:600; }

/* Tombol pada kartu */
.action{ position:absolute; z-index:2; width:38px; height:38px; border-radius:10px; display:grid; place-items:center;
  border:1px solid var(--line); background:rgba(255,255,255,.05); color:var(--text); cursor:pointer;
  transition:transform .15s var(--ease), background .2s var(--ease), border-color .2s var(--ease); }
.action:hover{ transform: translateY(-1px); background:rgba(255,255,255,.08); border-color:rgba(255,255,255,.14); }
.action.mapfocus{ bottom:10px; right:10px; font-size:16px; }

/* Empty state */
.empty-state{ display:grid; place-items:center; padding:60px 0; }
.empty-card{ text-align:center; padding:26px; border-radius:var(--radius-xl); border:1px solid var(--line); background:rgba(255,255,255,.03); max-width:520px; width:100%; display:grid; gap:10px; }
.empty-emoji{ font-size:48px; }

/* Footer */
.site-footer{ border-top:1px solid var(--line); }
.footer-inner{ max-width:1100px; margin:auto; padding:30px 20px 60px; display:grid; gap:8px; }
.mono{ font:700 12px/1.2 Space Mono, monospace; color:var(--muted); }
.muted{ color:var(--muted); }

/* Modal */
.modal.hidden{ display:none; } .modal{ position:fixed; inset:0; z-index:100; }
.modal-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter: blur(4px); }
.modal-panel{ position:absolute; left:50%; top:50%; transform: translate(-50%,-50%) scale(.98);
  width:min(920px, calc(100% - 28px)); border-radius: 22px; background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
  border:1px solid var(--line); box-shadow: var(--shadow); opacity:0; animation: pop .25s var(--ease) forwards; }
.modal-close{ position:absolute; right:10px; top:10px; width:40px; height:40px; border-radius:10px; border:1px solid var(--line); background:rgba(255,255,255,.04); color:var(--text); font-size:24px; cursor:pointer; }
.modal-content{ padding:22px; display:grid; gap:16px; }
.modal-hero{ display:flex; align-items:center; gap:18px; }
.modal-icon{ width:64px; height:64px; border-radius:16px; display:grid; place-items:center; font-size:36px;
  background: radial-gradient(circle at 35% 35%, rgba(255,255,255,.16), rgba(255,255,255,.02) 70%), linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  border:1px solid var(--line); }
.modal-title{ margin:0; font:800 clamp(22px, 4vw, 34px)/1.1 "Playfair Display", serif; }
.modal-grid{ display:grid; gap:12px; grid-template-columns: repeat(3,1fr); }
.facts-list{ margin:0; padding-left:18px; display:grid; gap:8px; }

/* Toast */
.toast{ position:fixed; left:50%; bottom:20px; transform:translateX(-50%) translateY(20px); background:rgba(20,22,26,.9); color:var(--text);
  border:1px solid var(--line); padding:10px 14px; border-radius:12px; box-shadow: var(--shadow); opacity:0; transition: opacity .2s var(--ease), transform .2s var(--ease); z-index:200; }
.toast.show{ opacity:1; transform:translateX(-50%) translateY(0); }
.toast.hidden{ display:none; }

/* Responsif */
@media (max-width:900px){ .stats{ grid-template-columns: repeat(2, 1fr); } .modal-grid{ grid-template-columns: repeat(2,1fr); } }
@media (max-width:640px){ .header-inner{ padding:20px 16px 12px; } .controls{ padding:0 16px 10px; } .modal-grid{ grid-template-columns: 1fr; } #map{ height:280px; } }

/* Animasi */
@keyframes float{ 0%{ transform: translate(-2%, 0%) scale(1); } 100%{ transform: translate(2%, -2%) scale(1.05); } }
@keyframes spin{ to{ transform: translate(-50%,-50%) rotate(1turn); } }
@keyframes pop{ to{ opacity:1; transform: translate(-50%,-50%) scale(1); } }

/* Aksesibilitas */
:focus-visible{ outline:2px solid rgba(255,255,255,.6); outline-offset:2px; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){ .blob,.ring,.stripes,.grain::before{ animation:none !important; } .card:hover{ transform:none; } }
